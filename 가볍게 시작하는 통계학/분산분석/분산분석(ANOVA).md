## 개요
분산분석 (Analysis of Variance)이란 연속형 자료로 구성된 **세 개 이상의** 모집단들의 평균을 동시에 비교하는 통계적 분석방법으로 표본들의 표본평균값이 얼마나 차이가 있는가를 분산 개념을 이용하여 비교하는 것을 의미한다. 다시말해 **세 개 이상 모집단의 모평균들이 모두 같은가?** 에 대한 질문을 하는 것이다. 

분산분석은 모평균이 같은지 여부를 보는 것임으로 아래와 같이 가설을 설정할 수 있다.
귀무가설 $H_0 : \mu_A=\mu_B=\mu_C$ : 세 개 이상의 모평균이 모두 같다.
대립가설 $H_1 : not \,\,\, \mu_A=\mu_B=\mu_C$ : 세 개 이상의 모평균이 모두 같지 않다.

분산분석은 아래 기본 가정을 전재로 수행된다.

* 관측치의 독립성
* 오차의 저규성
* 오차의 등분산성

## 분산의 구성
분산은 아래 기본 식을 통해 구성되어 있다.
$$\text{총 분산} = \text{집단 내 분산} + \text{집단 간 분산}$$
$$SST=SSTr + SSE$$

* 총분산 : [[전체 제곱합(SST)]] : 각 표본의 측정치들이 전체 평균으로부터 얼마나 떨어져 있는가
* 집단 내 분산 : [[처리제곱합(SSTr)]] : 각 집단의 평균치를 중심으로 집단 요소들의 측정치가 얼마나 퍼저 있는가
* 집단 간 분산 :  [[오차제곱합(SSE)]] : 각 집단의 평균들이 전체 평균에서 얼마나 떨어져 있는가

위 내용은 도식화하면 아래와 같다. 
![[분산분석-분산의구성.png]]
위 자료에 근거한 분산의 구성식은 아래와 같다.
$$\sum_{i=1}^m \sum_{j=1}^{n_i}\left(y_{i, j}-\bar{y}\right)^2 = \displaystyle\sum^m_{i=1}{n_i(\bar{y_i} - {\bar{y}})^2} + \sum_{i=1}^m \sum_{j=1}^{n_i}\left(y_{i, j}-\bar{y_i}\right)^2$$

## 분산분석 수행 과정
1. 처리제곱합, 오차제곱합, 총제곱합을 구한다.
2. 자유도를 계산한다.
	> 전체 관측치 n개를 m개의 그룹으로 묶었을 때
	> 	처리제곱합의 자유도는 m-1 이고
	> 	오차제곱합의 자유도는 n -1 이다.
3. 각 제곱합을 각각의 자유도로 나누어 [[평균처리제곱합(MSTr)]] 및 [[평균제곱오차(MSE)|평균오차제곱합(MSE)]]을 계산한다.
4. [[F-value]]를 계산한 뒤 검정을 통해 귀무가설을 기각할지 결정한다.