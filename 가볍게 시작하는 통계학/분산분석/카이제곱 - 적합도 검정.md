적합도 검정은 독립변수가 하나이고 이론적으로 기대되는 빈도의 분포(frequency distribution)와 관찰한 빈도의 분포를 비교하기 위해 사용할 수 있다.
여기서 독립변수는 범주형 변수(categorical variable)이라는 점도 꼭 짚고 넘어가도록 하자.

적합도 검정은 아래 순서로 진행된다.
1. 가설 설정
2. 검정 통계량 계산($\chi^2$)
3. 특정 자유도와 p-value에 따른 카이제곱 통계량 값을 얻는다.
4. 검정 통계량과 카이제곱 통계량 값을 비교하여 가설을 검정한다. 

* 가설 설정에 있어 귀무가설은 각 범주형 변수의 값이 동일하다(비율이 동일하다)는 것이고 대립가설은 동일하지 않다는 것이다.
* 검정 통계량이 카이제곱 값보다 작을 경우 귀무가설을 기각하지 못함으로 동일 비율 적합도가 "충분히 적합" 수준이다.
* 검정 통계량이 카이제곱 값보다 클 경우 귀무가설을 기각하여 동일 비율 적합도가 "충분히 적합하지 못함" 수준이다. 

예를 들어 아래와 같은 데이터셋을 생각해보자.  
<p align = "center">

<img width = "500" src = "https://raw.githubusercontent.com/angeloyeo/angeloyeo.github.io/master/pics/2021-12-13-chi_square/pic9.png">

<br>

그림 9. 적합도 검정 수행해보기 위한 데이터셋

</p>

그림 9에 있는 데이터셋에서는 5가지 맛이 섞여 있는 사탕 주머니에서 총 100개의 사탕을 집어들어 어떤 맛의 사탕들을 고르게 되었는지 확인해본 가상의 실험이다.
카이제곱 적합도 검정을 하기 위해 가설을 아래와 같이 구성할 수 있다.
* 귀무가설 $H_0$ : $p_1 = p_2 = p_3 = p_4 = p_5$ : 5가지 맛이 동일한 비율로 들어있다.
* 대립가설 $H_1$ : $not\,\,\,\,p_1 = p_2 = p_3 = p_4 = p_5$ : 5가지 맛이 동일한 비율로 들어있지 않다.

처음에 예측하기로는 5가지 맛 사탕이 모두 골고루 들어 있을 것이라고 생각하였으므로 기댓값은 20개씩 설정하였다.

카이제곱 통계량 식을 그대로 적용해보면 다음과 같은 통계량을 얻을 수 있는 것을 알 수 있다.

$$\chi^2 = \frac{(17-20)^2}{20}+\frac{(16-20)^2}{20}+\frac{(24-20)^2}{20}+\frac{(29-20)^2}{20}+\frac{(14-20)^2}{20} = 7.9$$

총 5개의 카테고리가 있기 때문에 자유도는 4이다. 자유도가 4일 때 p-value 0.05에 해당하는 카이제곱 값(오른쪽 단측)은 $\chi^2(4)_{0.95} = 9.4877$이다. 
>자유도가 4이고 p-value가 0.05인 카이제곱 값은 $\chi^2_{0.05, 4}$ 와 같이 표현하기도 한다.

따라서,$\chi^2 < \chi^2(4)_{0.95}$ 임으로 귀무 가설을 기각하지 못해 이 사탕 주머니에 있는 사탕 5가지 종류 중 하나라도 다른 비율로 섞여있다고 보기에는 어렵다는 것이다. 아마 우연히 골고루 사탕을 집어들지 못했을 것으로 결론지을 수 있다.
  