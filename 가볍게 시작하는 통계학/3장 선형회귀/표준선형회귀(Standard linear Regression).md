# 개요
선형 회귀는 알려진 다른 관련 데이터 값을 사용하여 알 수 없는 데이터의 값을 예측하는 데이터 분석 기법이다.
알 수 없는 변수 또는 종속 변수와 알려진 변수 또는 독립 변수를 선형 방정식으로 수학적으로 모델링한다.
표준선형회귀의 기본적인 형태는 아래와 같다.(다중선형회귀의 형태가 선형회귀의 표준 형태이다.)
$$Y=\beta_0+\beta_1 X_1+\beta_2 X_2+\cdots+\beta_p X_p+\epsilon$$

위의 표준선형회귀식을 단순화한 단순선형회귀를 먼저 알아본 뒤 다중선형회귀에 대하여 알아보자.

## 선형모델의 가정
표준선형회귀모델은 실제로(현실에서)는 성립되지 않는 몇가지 제한적인 가정을 사용한다. 이중 가장 중요한 가정  중 두가지는 설명변수와 반응변수 사이의 관계는 가산적(additive)이고 선형적이라는 것이다.

* 가산성(가산적): 설명변수 $X_j$의 변화가 반응변수 Y에 미치는 영향은 다른 설명변수 값에 **독립적**이다.
* 선형성(선형적): 설명변수 $X_j$의 한 유닛 변화로 인한 Y의 변화는 $X_j$의 값에 관계없이 **상수**이다. 

현실적인 모델을 만들기 위해 위와 같은 가정을 완화하는 여러가지 기법이 존재한다. 이는 아래 선형모델의 확장부분에서 다루어보자. 

# 단순선형회귀
![[단순선형회귀]]

# 다중선형회귀
![[다중선형회귀]]
![[단순선형회귀]]


# 회귀모델에서 고려할 사항들

## 범주형(질적) 설명변수 모델
남과 여, 낮과 밤, 한우 등급과 같이 레벨(수준) 수가 지정되어 있는 범주형(질적) 설명변수를 사용하는 경우 지시변수(indicator variable) 또는 가변수(dummy variable)을 생성함으로써 설명변수를 모델에 적합(훈련)할 수 있다.

예를 들어 gender(남과 여) 변수를 기반으로 아래와 같은 형태의 새로운 변수를 만들 수 있다.
$$x_i\begin{cases}\,\,1 & \text { i 번째 사람이 여성인 경우 } \\\\ \,\,0 & \text{ i 번째 사람이 남성인 경우}\end{cases}$$
그리고 이 변수를 회귀식의 한 설명변수로 사용한 회귀모델은 아래와 같이 작성될 수 있다. 
(2레벨 범주형 설명변수의 경우 아래와 같이 단순선형회귀로 작성될 수 있다.)
$$y_i=\beta_0+\beta_1 x_i+\epsilon_i= \begin{cases}\,\,\beta_0+\beta_1+\epsilon_i & \text{i 번째 사람이 여성인 경우} \\\\\,\, \beta_0+\epsilon_i & \text{i 번째 사람이 남성인 경우}\end{cases}$$

예를 들어 신용카드 대금 정보를 위 모델에 적용하였을 때 아래와 같은 값을 얻었다고 하자. 

|              | 계수   | 표준편차 | t-value | p-값     |
| ------------ | ------ | -------- | ------- | -------- |
| 절편         | 509.80 | 33.13    | 15.389  | < 0.0001 |
| gender(여성) | 19.73  | 46.05    | 0.429   | 0.6690   |
<교재의 표 3.7>

이를 통해 아래와 같은 사실들을 알 수 있다.
* $\beta_0$의 값은 509.80이고 이는 남성의 평균 신용카드 대금으로 추정 된다.
* 여성의 신용카드 대금은 절편에서 gender 계수를 더한 509.8 + 19.73 = 529.53 으로 추정된다. 
* 가변수(gender)에 대한 p-값이 매우 높음으로 평균 신용카드 대금에 있어서 gender에 따른 차이가 존재한다는 통계적 증거가 없음을 나타낸다. 

위에서는 가변수를 1 과 0으로 설정하였는데 필요에 따라 서로 다른 숫자를 사용하여도 좋다. 다른 가변수값을 사용하여도 남성과 여성의 신용카드 대금에 대한 최종 예측값을 동일하다. 
<br>
#질문 
> 질문: 위 2레벨 범주형 자료의 경우 밀집 여부에 따라서 남성인지 여성인지 구분할 수 있었는데 아래의 값우 아시아인과 백인은 구분하기 어렵다. 구분할 수 있는 방법이 있는 것인가?

만약 3개 이상의 범주가 있다면 아래와 같이 다중선형회귀 형태로 작성될 수 있다. 
$$x_{i1}\begin{cases}\,\,1 & \text { i 번째 사람이 아시아인 경우 } \\\\ \,\,0 & \text{ i 번째 사람이 아시아인이 아닌 경우}\end{cases}$$
$$x_{i2}\begin{cases}\,\,1 & \text { i 번째 사람이 백인 경우 } \\\\ \,\,0 & \text{ i 번째 사람이 백인이 아닌 경우}\end{cases}$$

$$y_i=\beta_0+\beta_1 x_{i1}+\beta_1 x_{i2}+\epsilon_i= \begin{cases}\,\,\beta_0+\beta_1+\epsilon_i & \text{i 번째 사람이 아시아인 경우}\\\\\,\,\beta_0+\beta_2+\epsilon_i & \text{i 번째 사람이 백인 경우}\\ \\\,\, \beta_0+\epsilon_i & \text{i 번째 사람이 흑인 경우}\end{cases}$$

## 선형모델의 확장
위 개요부분에서 표준선형모델은 실제로는 성립되지 않는 제한적인 가정들을 사용하고 이 중 가산성과 선형성에 대하여 소개하였었다. 이 장에서는 위 두 가정을 완화시키는 고전적인 기법에 대하여 알아보자. 

### 가산성 가정의 제거 - 양적 설명변수
예를 들어 공장의 생산성을 연구한다고 가